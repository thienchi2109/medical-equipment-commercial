<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Navbar Functionality</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        button {
            background-color: #447896;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 10px 5px;
        }
        button:hover {
            background-color: #356a7a;
        }
        .instructions {
            background-color: #e8f4f8;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        .test-results {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Test Sticky Navbar Functionality</h1>
        
        <div class="instructions">
            <h3>Instructions:</h3>
            <ol>
                <li>Click "Set Mock Session" to simulate being logged in</li>
                <li>Click "Open Dashboard" to navigate to the dashboard</li>
                <li>Test the sticky navbar by scrolling down on the dashboard page</li>
                <li>Verify that the mobile menu button remains accessible on mobile devices</li>
            </ol>
        </div>

        <button onclick="setMockSession()">Set Mock Session</button>
        <button onclick="openDashboard()">Open Dashboard</button>
        <button onclick="clearSession()">Clear Session</button>
        
        <div class="test-results">
            <h3>Test Results:</h3>
            <div id="results"></div>
        </div>
    </div>

    <script>
        function setMockSession() {
            const mockUser = {
                id: 1,
                username: "admin",
                password: "admin123",
                full_name: "Test Admin User",
                role: "admin",
                khoa_phong: "Ban Gi√°m ƒë·ªëc",
                created_at: new Date().toISOString()
            };

            const sessionData = {
                user: mockUser,
                timestamp: Date.now()
            };

            localStorage.setItem('auth_session', JSON.stringify(sessionData));
            
            document.getElementById('results').innerHTML += 
                '<p>‚úÖ Mock session set successfully</p>';
        }

        function openDashboard() {
            window.open('http://localhost:9003/dashboard', '_blank');
            document.getElementById('results').innerHTML += 
                '<p>üîó Dashboard opened in new tab</p>';
        }

        function clearSession() {
            localStorage.removeItem('auth_session');
            document.getElementById('results').innerHTML += 
                '<p>üóëÔ∏è Session cleared</p>';
        }

        // Check current session status
        window.onload = function() {
            const session = localStorage.getItem('auth_session');
            if (session) {
                try {
                    const parsed = JSON.parse(session);
                    document.getElementById('results').innerHTML = 
                        '<p>üìã Current session: ' + parsed.user.username + '</p>';
                } catch (e) {
                    document.getElementById('results').innerHTML = 
                        '<p>‚ùå Invalid session data found</p>';
                }
            } else {
                document.getElementById('results').innerHTML = 
                    '<p>üîí No active session</p>';
            }
        };
    </script>
</body>
</html>
